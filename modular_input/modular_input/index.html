
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../event_writer/">
      
      
        <link rel="next" href="../../acl/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.2.7">
    
    
      
        <title>modular_input.py - Splunk Solutions SDK</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.046329b4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings1.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#modular_inputpy" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!-- Source:
https://github.com/squidfunk/mkdocs-material/blob/master/src/templates/partials/header.html
-->



  


<!-- Header -->
<header class="md-header md-header--shadow" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

    <!-- Link to home -->
    <a
      href="../.."
      title="Splunk Solutions SDK"
      class="md-header__button md-logo"
      aria-label="Splunk Solutions SDK"
      data-md-component="logo"
    >
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Splunk Solutions SDK
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              modular_input.py
            
          </span>
        </div>
      </div>
    </div>

    
      <a href="../../print_page/" title="Print Site" class="md-header__button md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 3H6v4h12m1 5a1 1 0 0 1-1-1 1 1 0 0 1 1-1 1 1 0 0 1 1 1 1 1 0 0 1-1 1m-3 7H8v-5h8m3-6H5a3 3 0 0 0-3 3v6h4v4h12v-4h4v-6a3 3 0 0 0-3-3Z"/></svg>
      </a>
    

    <!-- Color palette toggle -->
    
      
    

    <!-- User preference: color palette -->
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Splunk Solutions SDK" class="md-nav__button md-logo" aria-label="Splunk Solutions SDK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Splunk Solutions SDK
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../release_6_0_0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release 6.0.0
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../release_7_0_0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release 7.0.0
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    References
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            References
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" checked>
        
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    modular_input
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            modular_input
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../checkpointer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    checkpointer.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../event/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    event.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../event_writer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    event_writer.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    modular_input.py
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    modular_input.py
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input" class="md-nav__link">
    solnlib.modular_input.modular_input
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.__all__" class="md-nav__link">
    __all__
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput" class="md-nav__link">
    ModularInput
  </a>
  
    <nav class="md-nav" aria-label="ModularInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.app" class="md-nav__link">
    app
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.checkpointer" class="md-nav__link">
    checkpointer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.config_name" class="md-nav__link">
    config_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.event_writer" class="md-nav__link">
    event_writer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.hec_global_settings_schema" class="md-nav__link">
    hec_global_settings_schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.hec_input_name" class="md-nav__link">
    hec_input_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.kvstore_checkpointer_collection_name" class="md-nav__link">
    kvstore_checkpointer_collection_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.server_host" class="md-nav__link">
    server_host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.server_host_name" class="md-nav__link">
    server_host_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.server_port" class="md-nav__link">
    server_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.server_scheme" class="md-nav__link">
    server_scheme
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.server_uri" class="md-nav__link">
    server_uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.session_key" class="md-nav__link">
    session_key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.should_exit" class="md-nav__link">
    should_exit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.title" class="md-nav__link">
    title
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.use_external_validation" class="md-nav__link">
    use_external_validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.use_hec_event_writer" class="md-nav__link">
    use_hec_event_writer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.use_kvstore_checkpointer" class="md-nav__link">
    use_kvstore_checkpointer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.use_single_instance" class="md-nav__link">
    use_single_instance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.do_run" class="md-nav__link">
    do_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.do_validation" class="md-nav__link">
    do_validation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.execute" class="md-nav__link">
    execute()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.extra_arguments" class="md-nav__link">
    extra_arguments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.get_input_definition" class="md-nav__link">
    get_input_definition()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.get_validation_definition" class="md-nav__link">
    get_validation_definition()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.register_orphan_handler" class="md-nav__link">
    register_orphan_handler()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.register_teardown_handler" class="md-nav__link">
    register_teardown_handler()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInputException" class="md-nav__link">
    ModularInputException
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../acl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    acl.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../credentials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    credentials.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../conf_manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    conf_manager.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../file_monitor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    file_monitor.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hec_config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hec_config.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    log.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../net_utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    net_utils.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../orphan_process_monitor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    orphan_process_monitor.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../pattern/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pattern.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server_info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    server_info.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../splunk_rest_client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    splunk_rest_client.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../bulletin_rest_client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    bulletin_rest_client.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../splunkenv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    splunkenv.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../time_parser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    time_parser.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../timer_queue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    timer_queue.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../user_access/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    user_access.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utils.py
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input" class="md-nav__link">
    solnlib.modular_input.modular_input
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.__all__" class="md-nav__link">
    __all__
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput" class="md-nav__link">
    ModularInput
  </a>
  
    <nav class="md-nav" aria-label="ModularInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.app" class="md-nav__link">
    app
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.checkpointer" class="md-nav__link">
    checkpointer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.config_name" class="md-nav__link">
    config_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.event_writer" class="md-nav__link">
    event_writer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.hec_global_settings_schema" class="md-nav__link">
    hec_global_settings_schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.hec_input_name" class="md-nav__link">
    hec_input_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.kvstore_checkpointer_collection_name" class="md-nav__link">
    kvstore_checkpointer_collection_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.server_host" class="md-nav__link">
    server_host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.server_host_name" class="md-nav__link">
    server_host_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.server_port" class="md-nav__link">
    server_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.server_scheme" class="md-nav__link">
    server_scheme
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.server_uri" class="md-nav__link">
    server_uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.session_key" class="md-nav__link">
    session_key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.should_exit" class="md-nav__link">
    should_exit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.title" class="md-nav__link">
    title
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.use_external_validation" class="md-nav__link">
    use_external_validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.use_hec_event_writer" class="md-nav__link">
    use_hec_event_writer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.use_kvstore_checkpointer" class="md-nav__link">
    use_kvstore_checkpointer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.use_single_instance" class="md-nav__link">
    use_single_instance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.do_run" class="md-nav__link">
    do_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.do_validation" class="md-nav__link">
    do_validation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.execute" class="md-nav__link">
    execute()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.extra_arguments" class="md-nav__link">
    extra_arguments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.get_input_definition" class="md-nav__link">
    get_input_definition()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.get_validation_definition" class="md-nav__link">
    get_validation_definition()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.register_orphan_handler" class="md-nav__link">
    register_orphan_handler()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInput.register_teardown_handler" class="md-nav__link">
    register_teardown_handler()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solnlib.modular_input.modular_input.ModularInputException" class="md-nav__link">
    ModularInputException
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="modular_inputpy">modular_input.py<a class="headerlink" href="#modular_inputpy" title="Permanent link">&para;</a></h1>


<div class="doc doc-object doc-module">


<a id="solnlib.modular_input.modular_input"></a>
  <div class="doc doc-contents first">
  
      <p>This module provides a base class of Splunk modular input.</p>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="solnlib.modular_input.modular_input.__all__" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ModularInputException&#39;</span><span class="p">,</span> <span class="s1">&#39;ModularInput&#39;</span><span class="p">]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.__all__" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  </div>

</div>


<div class="doc doc-object doc-class">



<h2 id="solnlib.modular_input.modular_input.ModularInput" class="doc doc-heading">
        <code>ModularInput</code>


<a href="#solnlib.modular_input.modular_input.ModularInput" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">

  
      <p>Base class of Splunk modular input.</p>
<p>It&rsquo;s a base modular input, it should be inherited by sub modular input. For
sub modular input, properties: &lsquo;app&rsquo;, &lsquo;name&rsquo;, &lsquo;title&rsquo; and &lsquo;description&rsquo; must
be overriden, also there are some other optional properties can be overriden
like: &lsquo;use_external_validation&rsquo;, &lsquo;use_single_instance&rsquo;, &lsquo;use_kvstore_checkpointer&rsquo;
and &lsquo;use_hec_event_writer&rsquo;.</p>
<p>Notes: If you set &lsquo;KVStoreCheckpointer&rsquo; or &lsquo;use_hec_event_writer&rsquo; to True,
you must override the corresponding &lsquo;kvstore_checkpointer_collection_name&rsquo;
and &lsquo;hec_input_name&rsquo;.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">TestModularInput</span><span class="p">(</span><span class="n">ModularInput</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">app</span> <span class="o">=</span> <span class="s1">&#39;TestApp&#39;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;test_modular_input&#39;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Test modular input&#39;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;This is a test modular input&#39;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">use_external_validation</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">use_single_instance</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">use_kvstore_checkpointer</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">kvstore_checkpointer_collection_name</span> <span class="o">=</span> <span class="s1">&#39;TestCheckpoint&#39;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">use_hec_event_writer</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">hec_input_name</span> <span class="o">=</span> <span class="s1">&#39;TestEventWriter&#39;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">extra_arguments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="o">...</span> <span class="o">..</span> <span class="o">.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">do_validation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameters</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="o">...</span> <span class="o">..</span> <span class="o">.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">do_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="o">...</span> <span class="o">..</span> <span class="o">.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">md</span> <span class="o">=</span> <span class="n">TestModularInput</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">md</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</code></pre></div>


        <details class="quote">
          <summary>Source code in <code>solnlib/modular_input/modular_input.py</code></summary>
          <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ModularInput</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">ABCMeta</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class of Splunk modular input.</span>

<span class="sd">    It&#39;s a base modular input, it should be inherited by sub modular input. For</span>
<span class="sd">    sub modular input, properties: &#39;app&#39;, &#39;name&#39;, &#39;title&#39; and &#39;description&#39; must</span>
<span class="sd">    be overriden, also there are some other optional properties can be overriden</span>
<span class="sd">    like: &#39;use_external_validation&#39;, &#39;use_single_instance&#39;, &#39;use_kvstore_checkpointer&#39;</span>
<span class="sd">    and &#39;use_hec_event_writer&#39;.</span>

<span class="sd">    Notes: If you set &#39;KVStoreCheckpointer&#39; or &#39;use_hec_event_writer&#39; to True,</span>
<span class="sd">    you must override the corresponding &#39;kvstore_checkpointer_collection_name&#39;</span>
<span class="sd">    and &#39;hec_input_name&#39;.</span>

<span class="sd">    Examples:</span>

<span class="sd">       &gt;&gt;&gt; class TestModularInput(ModularInput):</span>
<span class="sd">       &gt;&gt;&gt;     app = &#39;TestApp&#39;</span>
<span class="sd">       &gt;&gt;&gt;     name = &#39;test_modular_input&#39;</span>
<span class="sd">       &gt;&gt;&gt;     title = &#39;Test modular input&#39;</span>
<span class="sd">       &gt;&gt;&gt;     description = &#39;This is a test modular input&#39;</span>
<span class="sd">       &gt;&gt;&gt;     use_external_validation = True</span>
<span class="sd">       &gt;&gt;&gt;     use_single_instance = False</span>
<span class="sd">       &gt;&gt;&gt;     use_kvstore_checkpointer = True</span>
<span class="sd">       &gt;&gt;&gt;     kvstore_checkpointer_collection_name = &#39;TestCheckpoint&#39;</span>
<span class="sd">       &gt;&gt;&gt;     use_hec_event_writer = True</span>
<span class="sd">       &gt;&gt;&gt;     hec_input_name = &#39;TestEventWriter&#39;</span>
<span class="sd">       &gt;&gt;&gt;</span>
<span class="sd">       &gt;&gt;&gt;     def extra_arguments(self):</span>
<span class="sd">       &gt;&gt;&gt;         ... .. .</span>
<span class="sd">       &gt;&gt;&gt;</span>
<span class="sd">       &gt;&gt;&gt;     def do_validation(self, parameters):</span>
<span class="sd">       &gt;&gt;&gt;         ... .. .</span>
<span class="sd">       &gt;&gt;&gt;</span>
<span class="sd">       &gt;&gt;&gt;     def do_run(self, inputs):</span>
<span class="sd">       &gt;&gt;&gt;         ... .. .</span>
<span class="sd">       &gt;&gt;&gt;</span>
<span class="sd">       &gt;&gt;&gt; if __name__ == &#39;__main__&#39;:</span>
<span class="sd">       &gt;&gt;&gt;     md = TestModularInput()</span>
<span class="sd">       &gt;&gt;&gt;     md.execute()</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># App name, must be overridden</span>
    <span class="n">app</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># Modular input name, must be overridden</span>
    <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># Modular input scheme title, must be overridden</span>
    <span class="n">title</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># Modular input scheme description, must be overridden</span>
    <span class="n">description</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># Modular input scheme use external validation, default is False</span>
    <span class="n">use_external_validation</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="c1"># Modular input scheme use single instance mode, default is False</span>
    <span class="n">use_single_instance</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="c1"># Use kvstore as checkpointer, default is True</span>
    <span class="n">use_kvstore_checkpointer</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># Collection name of kvstore checkpointer, must be overridden if</span>
    <span class="c1"># use_kvstore_checkpointer is True</span>
    <span class="n">kvstore_checkpointer_collection_name</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># Use hec event writer</span>
    <span class="n">use_hec_event_writer</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># Input name of Splunk HEC, must be overridden if use_hec_event_writer</span>
    <span class="c1"># is True</span>
    <span class="n">hec_input_name</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">hec_global_settings_schema</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Validate properties</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_properties</span><span class="p">()</span>
        <span class="c1"># Modular input state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">should_exit</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># Metadata</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server_host_name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server_uri</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server_scheme</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server_host</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server_port</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session_key</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># Modular input config name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config_name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># Checkpoint dir</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_checkpoint_dir</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># Checkpointer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_checkpointer</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># Orphan process monitor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orphan_monitor</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># Event writer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_event_writer</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_validate_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">]):</span>
            <span class="k">raise</span> <span class="n">ModularInputException</span><span class="p">(</span>
                <span class="s1">&#39;Attributes: &quot;app&quot;, &quot;name&quot;, &quot;title&quot;, &quot;description&quot; must &#39;</span>
                <span class="s2">&quot;be overriden.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_kvstore_checkpointer</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">kvstore_checkpointer_collection_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ModularInputException</span><span class="p">(</span>
                    <span class="s1">&#39;Attribute: &quot;kvstore_checkpointer_collection_name&quot; must&#39;</span>
                    <span class="s1">&#39;be overriden if &quot;use_kvstore_checkpointer&quot; is True&quot;.&#39;</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">kvstore_checkpointer_collection_name</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ModularInputException</span><span class="p">(</span>
                    <span class="s1">&#39;Attribute: &quot;kvstore_checkpointer_collection_name&quot; can&#39;</span>
                    <span class="s2">&quot; not be empty.&quot;</span>
                <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_hec_event_writer</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hec_input_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ModularInputException</span><span class="p">(</span>
                    <span class="s1">&#39;Attribute: &quot;hec_input_name&quot; must be overriden &#39;</span>
                    <span class="s1">&#39;if &quot;use_hec_event_writer&quot; is True.&#39;</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">hec_input_name</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ModularInputException</span><span class="p">(</span>
                    <span class="s1">&#39;Attribute: &quot;hec_input_name&quot; can not be empty.&#39;</span>
                <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">checkpointer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">checkpointer</span><span class="o">.</span><span class="n">Checkpointer</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get checkpointer object.</span>

<span class="sd">        The checkpointer returned depends on use_kvstore_checkpointer flag,</span>
<span class="sd">        if use_kvstore_checkpointer is true will return an KVStoreCheckpointer</span>
<span class="sd">        object else an FileCheckpointer object.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A checkpointer object.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkpointer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkpointer</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_checkpointer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_checkpointer</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkpointer</span>

    <span class="k">def</span> <span class="nf">_create_checkpointer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_kvstore_checkpointer</span><span class="p">:</span>
            <span class="n">checkpointer_name</span> <span class="o">=</span> <span class="s2">&quot;:&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">kvstore_checkpointer_collection_name</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">checkpointer</span><span class="o">.</span><span class="n">KVStoreCheckpointer</span><span class="p">(</span>
                    <span class="n">checkpointer_name</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">session_key</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span>
                    <span class="n">owner</span><span class="o">=</span><span class="s2">&quot;nobody&quot;</span><span class="p">,</span>
                    <span class="n">scheme</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">server_scheme</span><span class="p">,</span>
                    <span class="n">host</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">server_host</span><span class="p">,</span>
                    <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">server_port</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="n">binding</span><span class="o">.</span><span class="n">HTTPError</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;Failed to init kvstore checkpointer: </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">()</span>
                <span class="p">)</span>
                <span class="k">raise</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">checkpointer</span><span class="o">.</span><span class="n">FileCheckpointer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_checkpoint_dir</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">event_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">event_writer</span><span class="o">.</span><span class="n">EventWriter</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get event writer object.</span>

<span class="sd">        The event writer returned depends on use_hec_event_writer flag,</span>
<span class="sd">        if use_hec_event_writer is true will return an HECEventWriter</span>
<span class="sd">        object else an ClassicEventWriter object.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Event writer object.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_event_writer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_event_writer</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_event_writer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_event_writer</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_event_writer</span>

    <span class="k">def</span> <span class="nf">_create_event_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_hec_event_writer</span><span class="p">:</span>
            <span class="n">hec_input_name</span> <span class="o">=</span> <span class="s2">&quot;:&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hec_input_name</span><span class="p">])</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">event_writer</span><span class="o">.</span><span class="n">HECEventWriter</span><span class="p">(</span>
                    <span class="n">hec_input_name</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">session_key</span><span class="p">,</span>
                    <span class="n">scheme</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">server_scheme</span><span class="p">,</span>
                    <span class="n">host</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">server_host</span><span class="p">,</span>
                    <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">server_port</span><span class="p">,</span>
                    <span class="n">global_settings_schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hec_global_settings_schema</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="n">binding</span><span class="o">.</span><span class="n">HTTPError</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;Failed to init HECEventWriter: </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">()</span>
                <span class="p">)</span>
                <span class="k">raise</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">event_writer</span><span class="o">.</span><span class="n">ClassicEventWriter</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_update_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server_host_name</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;server_host&quot;</span><span class="p">]</span>
        <span class="n">splunkd</span> <span class="o">=</span> <span class="n">urlparse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;server_uri&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server_uri</span> <span class="o">=</span> <span class="n">splunkd</span><span class="o">.</span><span class="n">geturl</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server_scheme</span> <span class="o">=</span> <span class="n">splunkd</span><span class="o">.</span><span class="n">scheme</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server_host</span> <span class="o">=</span> <span class="n">splunkd</span><span class="o">.</span><span class="n">hostname</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server_port</span> <span class="o">=</span> <span class="n">splunkd</span><span class="o">.</span><span class="n">port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session_key</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;session_key&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_checkpoint_dir</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;checkpoint_dir&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_do_scheme</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">scheme</span> <span class="o">=</span> <span class="n">Scheme</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
        <span class="n">scheme</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span>
        <span class="n">scheme</span><span class="o">.</span><span class="n">use_external_validation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_external_validation</span>
        <span class="n">scheme</span><span class="o">.</span><span class="n">streaming_mode</span> <span class="o">=</span> <span class="n">Scheme</span><span class="o">.</span><span class="n">streaming_mode_xml</span>
        <span class="n">scheme</span><span class="o">.</span><span class="n">use_single_instance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_single_instance</span>

        <span class="k">for</span> <span class="n">argument</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_arguments</span><span class="p">():</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">argument</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
            <span class="n">title</span> <span class="o">=</span> <span class="n">argument</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="n">description</span> <span class="o">=</span> <span class="n">argument</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="n">validation</span> <span class="o">=</span> <span class="n">argument</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="n">data_type</span> <span class="o">=</span> <span class="n">argument</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data_type&quot;</span><span class="p">,</span> <span class="n">Argument</span><span class="o">.</span><span class="n">data_type_string</span><span class="p">)</span>
            <span class="n">required_on_edit</span> <span class="o">=</span> <span class="n">argument</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;required_on_edit&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="n">required_on_create</span> <span class="o">=</span> <span class="n">argument</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;required_on_create&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

            <span class="n">scheme</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
                <span class="n">Argument</span><span class="p">(</span>
                    <span class="n">name</span><span class="p">,</span>
                    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
                    <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
                    <span class="n">validation</span><span class="o">=</span><span class="n">validation</span><span class="p">,</span>
                    <span class="n">data_type</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span>
                    <span class="n">required_on_edit</span><span class="o">=</span><span class="n">required_on_edit</span><span class="p">,</span>
                    <span class="n">required_on_create</span><span class="o">=</span><span class="n">required_on_create</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">defused_et</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span><span class="n">scheme</span><span class="o">.</span><span class="n">to_xml</span><span class="p">(),</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;unicode&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">extra_arguments</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extra arguments for modular input.</span>

<span class="sd">        Default implementation is returning an empty list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of arguments like::</span>

<span class="sd">                [</span>
<span class="sd">                    {</span>
<span class="sd">                        &#39;name&#39;: &#39;arg1&#39;,</span>
<span class="sd">                        &#39;title&#39;: &#39;arg1 title&#39;,</span>
<span class="sd">                        &#39;description&#39;: &#39;arg1 description&#39;,</span>
<span class="sd">                        &#39;validation&#39;: &#39;arg1 validation statement&#39;,</span>
<span class="sd">                        &#39;data_type&#39;: Argument.data_type_string,</span>
<span class="sd">                        &#39;required_on_edit&#39;: False,</span>
<span class="sd">                        &#39;required_on_create&#39;: False</span>
<span class="sd">                    },</span>
<span class="sd">                    {...},</span>
<span class="sd">                    {...}</span>
<span class="sd">                ]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">do_validation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameters</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Handles external validation for modular input kinds.</span>

<span class="sd">        When Splunk calls a modular input script in validation mode, it will</span>
<span class="sd">        pass in an XML document giving information about the Splunk instance</span>
<span class="sd">        (so you can call back into it if needed) and the name and parameters</span>
<span class="sd">        of the proposed input. If this function does not throw an exception,</span>
<span class="sd">        the validation is assumed to succeed. Otherwise any errors thrown will</span>
<span class="sd">        be turned into a string and logged back to Splunk.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            parameters: The parameters of input passed by splunkd.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: If validation is failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">do_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Runs this modular input.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            inputs: Command line arguments passed to this modular input.</span>
<span class="sd">                For single instance mode, inputs like::</span>

<span class="sd">                    {</span>
<span class="sd">                    &#39;stanza_name1&#39;: {&#39;arg1&#39;: &#39;arg1_value&#39;, &#39;arg2&#39;: &#39;arg2_value&#39;, ...}</span>
<span class="sd">                    &#39;stanza_name2&#39;: {&#39;arg1&#39;: &#39;arg1_value&#39;, &#39;arg2&#39;: &#39;arg2_value&#39;, ...}</span>
<span class="sd">                    &#39;stanza_name3&#39;: {&#39;arg1&#39;: &#39;arg1_value&#39;, &#39;arg2&#39;: &#39;arg2_value&#39;, ...}</span>
<span class="sd">                    }</span>

<span class="sd">                For multiple instance mode, inputs like::</span>

<span class="sd">                    {</span>
<span class="sd">                    &#39;stanza_name1&#39;: {&#39;arg1&#39;: &#39;arg1_value&#39;, &#39;arg2&#39;: &#39;arg2_value&#39;, ...}</span>
<span class="sd">                    }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">register_teardown_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register teardown signal handler.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            handler: Teardown signal handler.</span>
<span class="sd">            args: Arguments to the handler.</span>

<span class="sd">        Examples:</span>
<span class="sd">           &gt;&gt;&gt; mi = ModularInput(...)</span>
<span class="sd">           &gt;&gt;&gt; def teardown_handler(arg1, arg2, ...):</span>
<span class="sd">           &gt;&gt;&gt;     ...</span>
<span class="sd">           &gt;&gt;&gt; mi.register_teardown_handler(teardown_handler, arg1, arg2, ...)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_teardown_handler</span><span class="p">(</span><span class="n">signum</span><span class="p">,</span> <span class="n">frame</span><span class="p">):</span>
            <span class="n">handler</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

        <span class="n">utils</span><span class="o">.</span><span class="n">handle_teardown_signals</span><span class="p">(</span><span class="n">_teardown_handler</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">register_orphan_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register orphan process handler.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            handler: Teardown signal handler.</span>
<span class="sd">            args: Arguments to the handler.</span>

<span class="sd">        Examples:</span>
<span class="sd">           &gt;&gt;&gt; mi = ModularInput(...)</span>
<span class="sd">           &gt;&gt;&gt; def orphan_handler(arg1, arg2, ...):</span>
<span class="sd">           &gt;&gt;&gt;     ...</span>
<span class="sd">           &gt;&gt;&gt; mi.register_orphan_handler(orphan_handler, arg1, arg2, ...)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_orphan_handler</span><span class="p">():</span>
            <span class="n">handler</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphan_monitor</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_orphan_monitor</span> <span class="o">=</span> <span class="n">OrphanProcessMonitor</span><span class="p">(</span><span class="n">_orphan_handler</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_orphan_monitor</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_validation_definition</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get validation definition.</span>

<span class="sd">        This method can be overwritten to get validation definition from</span>
<span class="sd">        other input instead `stdin`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dict object must contains `metadata` and `parameters`::</span>

<span class="sd">                example: {</span>
<span class="sd">                    &#39;metadata&#39;: {</span>
<span class="sd">                    &#39;session_key&#39;: &#39;iCKPS0cvmpyeJk...sdaf&#39;,</span>
<span class="sd">                    &#39;server_host&#39;: &#39;test-test.com&#39;,</span>
<span class="sd">                    &#39;server_uri&#39;: &#39;https://127.0.0.1:8089&#39;,</span>
<span class="sd">                    &#39;checkpoint_dir&#39;: &#39;/tmp&#39;</span>
<span class="sd">                    },</span>
<span class="sd">                    parameters: {&#39;args1&#39;: value1, &#39;args2&#39;: value2}</span>
<span class="sd">                }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">validation_definition</span> <span class="o">=</span> <span class="n">ValidationDefinition</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">validation_definition</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span>
            <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="n">validation_definition</span><span class="o">.</span><span class="n">parameters</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_input_definition</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get input definition.</span>

<span class="sd">        This method can be overwritten to get input definition from</span>
<span class="sd">        other input instead `stdin`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dict object must contain `metadata` and `inputs`::</span>

<span class="sd">                example: {</span>
<span class="sd">                    &#39;metadata&#39;: {</span>
<span class="sd">                    &#39;session_key&#39;: &#39;iCKPS0cvmpyeJk...sdaf&#39;,</span>
<span class="sd">                    &#39;server_host&#39;: &#39;test-test.com&#39;,</span>
<span class="sd">                    &#39;server_uri&#39;: &#39;https://127.0.0.1:8089&#39;,</span>
<span class="sd">                    &#39;checkpoint_dir&#39;: &#39;/tmp&#39;</span>
<span class="sd">                    },</span>
<span class="sd">                    inputs: {</span>
<span class="sd">                    &#39;stanza1&#39;: {&#39;arg1&#39;: value1, &#39;arg2&#39;: value2},</span>
<span class="sd">                    &#39;stanza2&#39;: {&#39;arg1&#39;: value1, &#39;arg2&#39;: value2}</span>
<span class="sd">                    }</span>
<span class="sd">                }</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">input_definition</span> <span class="o">=</span> <span class="n">InputDefinition</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">input_definition</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="n">input_definition</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Modular input entry.</span>

<span class="sd">        Examples:</span>
<span class="sd">           &gt;&gt;&gt; class TestModularInput(ModularInput):</span>
<span class="sd">           &gt;&gt;&gt;         ... .. .</span>
<span class="sd">           &gt;&gt;&gt;</span>
<span class="sd">           &gt;&gt;&gt; if __name__ == &#39;__main__&#39;:</span>
<span class="sd">           &gt;&gt;&gt;     md = TestModularInput()</span>
<span class="sd">           &gt;&gt;&gt;     md.execute()</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">input_definition</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_input_definition</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_update_metadata</span><span class="p">(</span><span class="n">input_definition</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">])</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_single_instance</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">config_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">config_name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">input_definition</span><span class="p">[</span><span class="s2">&quot;inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_run</span><span class="p">(</span><span class="n">input_definition</span><span class="p">[</span><span class="s2">&quot;inputs&quot;</span><span class="p">])</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Modular input: </span><span class="si">%s</span><span class="s2"> exit normally.&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;Modular input: </span><span class="si">%s</span><span class="s2"> exit with exception: </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">(),</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="mi">1</span>
            <span class="k">finally</span><span class="p">:</span>
                <span class="c1"># Stop orphan monitor if any</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphan_monitor</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_orphan_monitor</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;--scheme&quot;</span><span class="p">:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_do_scheme</span><span class="p">())</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
            <span class="k">return</span> <span class="mi">0</span>

        <span class="k">elif</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;--validate-arguments&quot;</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">validation_definition</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_validation_definition</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_update_metadata</span><span class="p">(</span><span class="n">validation_definition</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_validation</span><span class="p">(</span><span class="n">validation_definition</span><span class="p">[</span><span class="s2">&quot;parameters&quot;</span><span class="p">])</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;Modular input: </span><span class="si">%s</span><span class="s2"> validate arguments with exception: </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">(),</span>
                <span class="p">)</span>
                <span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">)</span>
                <span class="n">ET</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;message&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">defused_et</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
                <span class="k">return</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s1">&#39;Modular input: </span><span class="si">%s</span><span class="s1"> run with invalid arguments: &quot;</span><span class="si">%s</span><span class="s1">&quot;.&#39;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]),</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="mi">1</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.app" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">app</span> <span class="o">=</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.app" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.checkpointer" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">checkpointer</span><span class="p">:</span> <span class="n">checkpointer</span><span class="o">.</span><span class="n">Checkpointer</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.checkpointer" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Get checkpointer object.</p>
<p>The checkpointer returned depends on use_kvstore_checkpointer flag,
if use_kvstore_checkpointer is true will return an KVStoreCheckpointer
object else an FileCheckpointer object.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="solnlib.modular_input.modular_input.ModularInput.checkpointer" href="#solnlib.modular_input.modular_input.ModularInput.checkpointer">checkpointer</a>.<span title="solnlib.modular_input.modular_input.ModularInput.checkpointer.Checkpointer">Checkpointer</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A checkpointer object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.config_name" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">config_name</span> <span class="o">=</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.config_name" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.description" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">description</span> <span class="o">=</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.description" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.event_writer" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">event_writer</span><span class="p">:</span> <span class="n">event_writer</span><span class="o">.</span><span class="n">EventWriter</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.event_writer" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Get event writer object.</p>
<p>The event writer returned depends on use_hec_event_writer flag,
if use_hec_event_writer is true will return an HECEventWriter
object else an ClassicEventWriter object.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="solnlib.modular_input.modular_input.ModularInput.event_writer" href="#solnlib.modular_input.modular_input.ModularInput.event_writer">event_writer</a>.<span title="solnlib.modular_input.modular_input.ModularInput.event_writer.EventWriter">EventWriter</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Event writer object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.hec_global_settings_schema" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">hec_global_settings_schema</span> <span class="o">=</span> <span class="kc">False</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.hec_global_settings_schema" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.hec_input_name" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">hec_input_name</span> <span class="o">=</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.hec_input_name" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.kvstore_checkpointer_collection_name" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">kvstore_checkpointer_collection_name</span> <span class="o">=</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.kvstore_checkpointer_collection_name" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.name" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.name" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.server_host" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">server_host</span> <span class="o">=</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.server_host" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.server_host_name" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">server_host_name</span> <span class="o">=</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.server_host_name" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.server_port" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">server_port</span> <span class="o">=</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.server_port" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.server_scheme" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">server_scheme</span> <span class="o">=</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.server_scheme" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.server_uri" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">server_uri</span> <span class="o">=</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.server_uri" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.session_key" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">session_key</span> <span class="o">=</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.session_key" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.should_exit" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">should_exit</span> <span class="o">=</span> <span class="kc">False</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.should_exit" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.title" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">title</span> <span class="o">=</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.title" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.use_external_validation" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">use_external_validation</span> <span class="o">=</span> <span class="kc">False</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.use_external_validation" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.use_hec_event_writer" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">use_hec_event_writer</span> <span class="o">=</span> <span class="kc">True</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.use_hec_event_writer" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.use_kvstore_checkpointer" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">use_kvstore_checkpointer</span> <span class="o">=</span> <span class="kc">True</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.use_kvstore_checkpointer" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="solnlib.modular_input.modular_input.ModularInput.use_single_instance" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">use_single_instance</span> <span class="o">=</span> <span class="kc">False</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.use_single_instance" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>



<div class="doc doc-object doc-function">



<h3 id="solnlib.modular_input.modular_input.ModularInput.__init__" class="doc doc-heading">
<code class="codehilite language-python"><span class="fm">__init__</span><span class="p">()</span></code>

<a href="#solnlib.modular_input.modular_input.ModularInput.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>solnlib/modular_input/modular_input.py</code></summary>
        <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># Validate properties</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_properties</span><span class="p">()</span>
    <span class="c1"># Modular input state</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">should_exit</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="c1"># Metadata</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">server_host_name</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">server_uri</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">server_scheme</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">server_host</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">server_port</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">session_key</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># Modular input config name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config_name</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># Checkpoint dir</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_checkpoint_dir</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># Checkpointer</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_checkpointer</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># Orphan process monitor</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_orphan_monitor</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># Event writer</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_event_writer</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="solnlib.modular_input.modular_input.ModularInput.do_run" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">do_run</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#solnlib.modular_input.modular_input.ModularInput.do_run" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Runs this modular input.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>inputs</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Command line arguments passed to this modular input.
For single instance mode, inputs like::</p>
<div class="codehilite"><pre><span></span><code>{
&#39;stanza_name1&#39;: {&#39;arg1&#39;: &#39;arg1_value&#39;, &#39;arg2&#39;: &#39;arg2_value&#39;, ...}
&#39;stanza_name2&#39;: {&#39;arg1&#39;: &#39;arg1_value&#39;, &#39;arg2&#39;: &#39;arg2_value&#39;, ...}
&#39;stanza_name3&#39;: {&#39;arg1&#39;: &#39;arg1_value&#39;, &#39;arg2&#39;: &#39;arg2_value&#39;, ...}
}
</code></pre></div>

<p>For multiple instance mode, inputs like::</p>
<div class="codehilite"><pre><span></span><code>{
&#39;stanza_name1&#39;: {&#39;arg1&#39;: &#39;arg1_value&#39;, &#39;arg2&#39;: &#39;arg2_value&#39;, ...}
}
</code></pre></div>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>solnlib/modular_input/modular_input.py</code></summary>
        <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">do_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Runs this modular input.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        inputs: Command line arguments passed to this modular input.</span>
<span class="sd">            For single instance mode, inputs like::</span>

<span class="sd">                {</span>
<span class="sd">                &#39;stanza_name1&#39;: {&#39;arg1&#39;: &#39;arg1_value&#39;, &#39;arg2&#39;: &#39;arg2_value&#39;, ...}</span>
<span class="sd">                &#39;stanza_name2&#39;: {&#39;arg1&#39;: &#39;arg1_value&#39;, &#39;arg2&#39;: &#39;arg2_value&#39;, ...}</span>
<span class="sd">                &#39;stanza_name3&#39;: {&#39;arg1&#39;: &#39;arg1_value&#39;, &#39;arg2&#39;: &#39;arg2_value&#39;, ...}</span>
<span class="sd">                }</span>

<span class="sd">            For multiple instance mode, inputs like::</span>

<span class="sd">                {</span>
<span class="sd">                &#39;stanza_name1&#39;: {&#39;arg1&#39;: &#39;arg1_value&#39;, &#39;arg2&#39;: &#39;arg2_value&#39;, ...}</span>
<span class="sd">                }</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="solnlib.modular_input.modular_input.ModularInput.do_validation" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">do_validation</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span></code>

<a href="#solnlib.modular_input.modular_input.ModularInput.do_validation" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Handles external validation for modular input kinds.</p>
<p>When Splunk calls a modular input script in validation mode, it will
pass in an XML document giving information about the Splunk instance
(so you can call back into it if needed) and the name and parameters
of the proposed input. If this function does not throw an exception,
the validation is assumed to succeed. Otherwise any errors thrown will
be turned into a string and logged back to Splunk.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>parameters</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The parameters of input passed by splunkd.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>Exception</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If validation is failed.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>solnlib/modular_input/modular_input.py</code></summary>
        <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">do_validation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameters</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Handles external validation for modular input kinds.</span>

<span class="sd">    When Splunk calls a modular input script in validation mode, it will</span>
<span class="sd">    pass in an XML document giving information about the Splunk instance</span>
<span class="sd">    (so you can call back into it if needed) and the name and parameters</span>
<span class="sd">    of the proposed input. If this function does not throw an exception,</span>
<span class="sd">    the validation is assumed to succeed. Otherwise any errors thrown will</span>
<span class="sd">    be turned into a string and logged back to Splunk.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        parameters: The parameters of input passed by splunkd.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If validation is failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="solnlib.modular_input.modular_input.ModularInput.execute" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">execute</span><span class="p">()</span></code>

<a href="#solnlib.modular_input.modular_input.ModularInput.execute" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Modular input entry.</p>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">TestModularInput</span><span class="p">(</span><span class="n">ModularInput</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="o">...</span> <span class="o">..</span> <span class="o">.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">md</span> <span class="o">=</span> <span class="n">TestModularInput</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">md</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</code></pre></div>

      <details class="quote">
        <summary>Source code in <code>solnlib/modular_input/modular_input.py</code></summary>
        <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Modular input entry.</span>

<span class="sd">    Examples:</span>
<span class="sd">       &gt;&gt;&gt; class TestModularInput(ModularInput):</span>
<span class="sd">       &gt;&gt;&gt;         ... .. .</span>
<span class="sd">       &gt;&gt;&gt;</span>
<span class="sd">       &gt;&gt;&gt; if __name__ == &#39;__main__&#39;:</span>
<span class="sd">       &gt;&gt;&gt;     md = TestModularInput()</span>
<span class="sd">       &gt;&gt;&gt;     md.execute()</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">input_definition</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_input_definition</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_update_metadata</span><span class="p">(</span><span class="n">input_definition</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">])</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_single_instance</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config_name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">input_definition</span><span class="p">[</span><span class="s2">&quot;inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_run</span><span class="p">(</span><span class="n">input_definition</span><span class="p">[</span><span class="s2">&quot;inputs&quot;</span><span class="p">])</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Modular input: </span><span class="si">%s</span><span class="s2"> exit normally.&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Modular input: </span><span class="si">%s</span><span class="s2"> exit with exception: </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">(),</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="c1"># Stop orphan monitor if any</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphan_monitor</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_orphan_monitor</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

    <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;--scheme&quot;</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_do_scheme</span><span class="p">())</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">elif</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;--validate-arguments&quot;</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">validation_definition</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_validation_definition</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_update_metadata</span><span class="p">(</span><span class="n">validation_definition</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_validation</span><span class="p">(</span><span class="n">validation_definition</span><span class="p">[</span><span class="s2">&quot;parameters&quot;</span><span class="p">])</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Modular input: </span><span class="si">%s</span><span class="s2"> validate arguments with exception: </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">(),</span>
            <span class="p">)</span>
            <span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">)</span>
            <span class="n">ET</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;message&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">defused_et</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
            <span class="k">return</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s1">&#39;Modular input: </span><span class="si">%s</span><span class="s1"> run with invalid arguments: &quot;</span><span class="si">%s</span><span class="s1">&quot;.&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="mi">1</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="solnlib.modular_input.modular_input.ModularInput.extra_arguments" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">extra_arguments</span><span class="p">()</span></code>

<a href="#solnlib.modular_input.modular_input.ModularInput.extra_arguments" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Extra arguments for modular input.</p>
<p>Default implementation is returning an empty list.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.List">List</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of arguments like::</p>
<p>[
    {
        &lsquo;name&rsquo;: &lsquo;arg1&rsquo;,
        &lsquo;title&rsquo;: &lsquo;arg1 title&rsquo;,
        &lsquo;description&rsquo;: &lsquo;arg1 description&rsquo;,
        &lsquo;validation&rsquo;: &lsquo;arg1 validation statement&rsquo;,
        &lsquo;data_type&rsquo;: Argument.data_type_string,
        &lsquo;required_on_edit&rsquo;: False,
        &lsquo;required_on_create&rsquo;: False
    },
    {&hellip;},
    {&hellip;}
]</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>solnlib/modular_input/modular_input.py</code></summary>
        <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">extra_arguments</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extra arguments for modular input.</span>

<span class="sd">    Default implementation is returning an empty list.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of arguments like::</span>

<span class="sd">            [</span>
<span class="sd">                {</span>
<span class="sd">                    &#39;name&#39;: &#39;arg1&#39;,</span>
<span class="sd">                    &#39;title&#39;: &#39;arg1 title&#39;,</span>
<span class="sd">                    &#39;description&#39;: &#39;arg1 description&#39;,</span>
<span class="sd">                    &#39;validation&#39;: &#39;arg1 validation statement&#39;,</span>
<span class="sd">                    &#39;data_type&#39;: Argument.data_type_string,</span>
<span class="sd">                    &#39;required_on_edit&#39;: False,</span>
<span class="sd">                    &#39;required_on_create&#39;: False</span>
<span class="sd">                },</span>
<span class="sd">                {...},</span>
<span class="sd">                {...}</span>
<span class="sd">            ]</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="solnlib.modular_input.modular_input.ModularInput.get_input_definition" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_input_definition</span><span class="p">()</span></code>

<a href="#solnlib.modular_input.modular_input.ModularInput.get_input_definition" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Get input definition.</p>
<p>This method can be overwritten to get input definition from
other input instead <code>stdin</code>.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dict object must contain <code>metadata</code> and <code>inputs</code>::</p>
<p>example: {
    &lsquo;metadata&rsquo;: {
    &lsquo;session_key&rsquo;: &lsquo;iCKPS0cvmpyeJk&hellip;sdaf&rsquo;,
    &lsquo;server_host&rsquo;: &lsquo;test-test.com&rsquo;,
    &lsquo;server_uri&rsquo;: &lsquo;https://127.0.0.1:8089&rsquo;,
    &lsquo;checkpoint_dir&rsquo;: &lsquo;/tmp&rsquo;
    },
    inputs: {
    &lsquo;stanza1&rsquo;: {&lsquo;arg1&rsquo;: value1, &lsquo;arg2&rsquo;: value2},
    &lsquo;stanza2&rsquo;: {&lsquo;arg1&rsquo;: value1, &lsquo;arg2&rsquo;: value2}
    }
}</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>solnlib/modular_input/modular_input.py</code></summary>
        <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_input_definition</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get input definition.</span>

<span class="sd">    This method can be overwritten to get input definition from</span>
<span class="sd">    other input instead `stdin`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dict object must contain `metadata` and `inputs`::</span>

<span class="sd">            example: {</span>
<span class="sd">                &#39;metadata&#39;: {</span>
<span class="sd">                &#39;session_key&#39;: &#39;iCKPS0cvmpyeJk...sdaf&#39;,</span>
<span class="sd">                &#39;server_host&#39;: &#39;test-test.com&#39;,</span>
<span class="sd">                &#39;server_uri&#39;: &#39;https://127.0.0.1:8089&#39;,</span>
<span class="sd">                &#39;checkpoint_dir&#39;: &#39;/tmp&#39;</span>
<span class="sd">                },</span>
<span class="sd">                inputs: {</span>
<span class="sd">                &#39;stanza1&#39;: {&#39;arg1&#39;: value1, &#39;arg2&#39;: value2},</span>
<span class="sd">                &#39;stanza2&#39;: {&#39;arg1&#39;: value1, &#39;arg2&#39;: value2}</span>
<span class="sd">                }</span>
<span class="sd">            }</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">input_definition</span> <span class="o">=</span> <span class="n">InputDefinition</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">input_definition</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span>
        <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="n">input_definition</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="solnlib.modular_input.modular_input.ModularInput.get_validation_definition" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_validation_definition</span><span class="p">()</span></code>

<a href="#solnlib.modular_input.modular_input.ModularInput.get_validation_definition" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Get validation definition.</p>
<p>This method can be overwritten to get validation definition from
other input instead <code>stdin</code>.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dict object must contains <code>metadata</code> and <code>parameters</code>::</p>
<p>example: {
    &lsquo;metadata&rsquo;: {
    &lsquo;session_key&rsquo;: &lsquo;iCKPS0cvmpyeJk&hellip;sdaf&rsquo;,
    &lsquo;server_host&rsquo;: &lsquo;test-test.com&rsquo;,
    &lsquo;server_uri&rsquo;: &lsquo;https://127.0.0.1:8089&rsquo;,
    &lsquo;checkpoint_dir&rsquo;: &lsquo;/tmp&rsquo;
    },
    parameters: {&lsquo;args1&rsquo;: value1, &lsquo;args2&rsquo;: value2}
}</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>solnlib/modular_input/modular_input.py</code></summary>
        <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_validation_definition</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get validation definition.</span>

<span class="sd">    This method can be overwritten to get validation definition from</span>
<span class="sd">    other input instead `stdin`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dict object must contains `metadata` and `parameters`::</span>

<span class="sd">            example: {</span>
<span class="sd">                &#39;metadata&#39;: {</span>
<span class="sd">                &#39;session_key&#39;: &#39;iCKPS0cvmpyeJk...sdaf&#39;,</span>
<span class="sd">                &#39;server_host&#39;: &#39;test-test.com&#39;,</span>
<span class="sd">                &#39;server_uri&#39;: &#39;https://127.0.0.1:8089&#39;,</span>
<span class="sd">                &#39;checkpoint_dir&#39;: &#39;/tmp&#39;</span>
<span class="sd">                },</span>
<span class="sd">                parameters: {&#39;args1&#39;: value1, &#39;args2&#39;: value2}</span>
<span class="sd">            }</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">validation_definition</span> <span class="o">=</span> <span class="n">ValidationDefinition</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">validation_definition</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span>
        <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="n">validation_definition</span><span class="o">.</span><span class="n">parameters</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="solnlib.modular_input.modular_input.ModularInput.register_orphan_handler" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">register_orphan_handler</span><span class="p">(</span><span class="n">handler</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></code>

<a href="#solnlib.modular_input.modular_input.ModularInput.register_orphan_handler" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Register orphan process handler.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>handler</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Teardown signal handler.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>args</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Arguments to the handler.</p>
            </div>
          </td>
          <td>
                <code>()</code>
          </td>
        </tr>
    </tbody>
  </table>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">mi</span> <span class="o">=</span> <span class="n">ModularInput</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">orphan_handler</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">,</span> <span class="o">...</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="o">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mi</span><span class="o">.</span><span class="n">register_orphan_handler</span><span class="p">(</span><span class="n">orphan_handler</span><span class="p">,</span> <span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</code></pre></div>

      <details class="quote">
        <summary>Source code in <code>solnlib/modular_input/modular_input.py</code></summary>
        <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">register_orphan_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Register orphan process handler.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        handler: Teardown signal handler.</span>
<span class="sd">        args: Arguments to the handler.</span>

<span class="sd">    Examples:</span>
<span class="sd">       &gt;&gt;&gt; mi = ModularInput(...)</span>
<span class="sd">       &gt;&gt;&gt; def orphan_handler(arg1, arg2, ...):</span>
<span class="sd">       &gt;&gt;&gt;     ...</span>
<span class="sd">       &gt;&gt;&gt; mi.register_orphan_handler(orphan_handler, arg1, arg2, ...)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_orphan_handler</span><span class="p">():</span>
        <span class="n">handler</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphan_monitor</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orphan_monitor</span> <span class="o">=</span> <span class="n">OrphanProcessMonitor</span><span class="p">(</span><span class="n">_orphan_handler</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orphan_monitor</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="solnlib.modular_input.modular_input.ModularInput.register_teardown_handler" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">register_teardown_handler</span><span class="p">(</span><span class="n">handler</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></code>

<a href="#solnlib.modular_input.modular_input.ModularInput.register_teardown_handler" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Register teardown signal handler.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>handler</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Teardown signal handler.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>args</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Arguments to the handler.</p>
            </div>
          </td>
          <td>
                <code>()</code>
          </td>
        </tr>
    </tbody>
  </table>

<p><strong>Examples:</strong></p>
    <div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">mi</span> <span class="o">=</span> <span class="n">ModularInput</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">teardown_handler</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">,</span> <span class="o">...</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="o">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mi</span><span class="o">.</span><span class="n">register_teardown_handler</span><span class="p">(</span><span class="n">teardown_handler</span><span class="p">,</span> <span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</code></pre></div>

      <details class="quote">
        <summary>Source code in <code>solnlib/modular_input/modular_input.py</code></summary>
        <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">register_teardown_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Register teardown signal handler.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        handler: Teardown signal handler.</span>
<span class="sd">        args: Arguments to the handler.</span>

<span class="sd">    Examples:</span>
<span class="sd">       &gt;&gt;&gt; mi = ModularInput(...)</span>
<span class="sd">       &gt;&gt;&gt; def teardown_handler(arg1, arg2, ...):</span>
<span class="sd">       &gt;&gt;&gt;     ...</span>
<span class="sd">       &gt;&gt;&gt; mi.register_teardown_handler(teardown_handler, arg1, arg2, ...)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_teardown_handler</span><span class="p">(</span><span class="n">signum</span><span class="p">,</span> <span class="n">frame</span><span class="p">):</span>
        <span class="n">handler</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="n">utils</span><span class="o">.</span><span class="n">handle_teardown_signals</span><span class="p">(</span><span class="n">_teardown_handler</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="solnlib.modular_input.modular_input.ModularInputException" class="doc doc-heading">
        <code>ModularInputException</code>


<a href="#solnlib.modular_input.modular_input.ModularInputException" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code>Exception</code></p>

  
      <p>Exception for ModularInput class.</p>


        <details class="quote">
          <summary>Source code in <code>solnlib/modular_input/modular_input.py</code></summary>
          <div class="codehilite"><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ModularInputException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Exception for ModularInput class.&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
        </details>

  </div>

</div>




  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
    
  </body>
</html>